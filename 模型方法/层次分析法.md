---
created: 2025/11/20 09:50
updated: 2025/11/20 14:09
aliases:
  - AHP
  - Analytic Hierarchy Process
---

可应用于多目标综合分析及网络系统理论评价, 但 需要丰富的专家样本数据, 否则难以保证评价结果的有效性。


层次分析法（AHP，Analytic Hierarchy Process）  
一句话：把复杂决策**拆成层次**，两两比较重要性，用**特征向量算权重**，最后加权汇总得分。

下面按“5 步 + 公式”速览。

---

### 1 建立层次结构
目标层 → 准则层 → 子准则层 → 方案层  
画成树状，同一层元素**互不重叠**。

---

### 2 构造判断矩阵
对同一上层元素，把下层 n 个因素两两比较重要性，1–9 标度：

| 标度 | 含义 |
|---|---|
| 1 | 同等重要 |
| 3 | 稍重要 |
| 5 | 明显重要 |
| 7 | 强烈重要 |
| 9 | 极端重要 |
| 2,4,6,8 | 中间值 |

得正互反矩阵  
$$
A = (a_{ij})_{n\times n},\quad a_{ji} = 1/a_{ij},\; a_{ii}=1.
$$

---

### 3 计算权重（特征向量法）
求最大特征值对应的**右特征向量**并归一化：

1. 幂法近似（实用版）：  
   ① 每列归一化得 $B=(b_{ij})$；  
   ② 行平均得权重向量  
   $$
   w_j = \frac{1}{n}\sum_{i=1}^n b_{ij},\quad \sum_{j=1}^n w_j=1.
   $$

2. 一致性检验  
   一致性指标  
   $$
   \text{CI}=\frac{\lambda_{\max}-n}{n-1},\quad
   \lambda_{\max}\approx \frac{1}{n}\sum_{i=1}^n \frac{(Aw)_i}{w_i}.
   $$
   随机一致性比率  
   $$
   \text{CR}=\frac{\text{CI}}{\text{RI}}.
   $$
   当 $\text{CR}<0.1$ 认为矩阵可接受；RI 查表（n=3 取 0.58，n=4 取 0.90 …）。

---

### 4 层次总排序
自上而下加权，得各方案对总目标的**综合权重**：

| 准则 | 权重 | 方案 A 局部权重 | 方案 B 局部权重 |
|---|---|---|---|
| C1 | 0.6 | 0.7 | 0.3 |
| C2 | 0.4 | 0.2 | 0.8 |

方案 A 总得分  
$$
S_A = 0.6\times 0.7 + 0.4\times 0.2 = 0.50.
$$

同理算 $S_B$，谁高谁优。

---

### 5 一致性再检验
对总排序也计算**组合一致性比率**，仍要求 $\text{CR}_{\text{total}}<0.1$。

---

### 6 一句话总结
AHP = **“拆层次、两两比、算特征向量得权重、一致性把关”**，把主观判断量化成数字，再合成最终排名。