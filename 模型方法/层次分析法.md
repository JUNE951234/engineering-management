---
created: 2025/11/20 09:50
updated: 2025/11/24 16:42
aliases:
  - AHP
  - Analytic Hierarchy Process
---
层次分析法 (Analytic Hierarchy Process, 简称 AHP) 是对一些较为复杂、较为模糊的问题作出决策的简易方法, 它特别适用于那些难于完全定量分析的问题。它是美国运筹学家T.L.Saaty 教授于20 世纪 70年代初期提出的一种简便、灵活而又实用的多准则决策方法。运用层次分析法建模, 大体上可按下面四个步骤进行:
1. 建立递阶层次结构模型:
2. 构造出各层次中的所有判断矩阵;
3. 层次单排序及一致性检验;
4. 层次总排序及一致性检验
可应用于多目标综合分析及网络系统理论评价, 但 需要丰富的专家样本数据, 否则难以保证评价结果的有效性。


层次分析法（AHP，Analytic Hierarchy Process）  
一句话：把复杂决策**拆成层次**，两两比较重要性，用**特征向量算权重**，最后加权汇总得分。

下面按“5 步 + 公式”速览。

---

### 1 建立层次结构
目标层 → 准则层 → 子准则层 → 方案层  
画成树状，同一层元素**互不重叠**。

---

### 2 构造判断矩阵
对同一上层元素，把下层 n 个因素两两比较重要性，1–9 标度：

| 标度 | 含义 |
|---|---|
| 1 | 同等重要 |
| 3 | 稍重要 |
| 5 | 明显重要 |
| 7 | 强烈重要 |
| 9 | 极端重要 |
| 2,4,6,8 | 中间值 |

得正互反矩阵  
$$
A = (a_{ij})_{n\times n},\quad a_{ji} = 1/a_{ij},\; a_{ii}=1.
$$

---

### 3 计算权重（特征向量法）
求最大特征值对应的**右特征向量**并归一化：

1. 幂法近似（实用版）：  
   ① 每列归一化得 $B=(b_{ij})$；  
   ② 行平均得权重向量  
   $$
   w_j = \frac{1}{n}\sum_{i=1}^n b_{ij},\quad \sum_{j=1}^n w_j=1.
   $$

2. 一致性检验  
   一致性指标  
   $$
   \text{CI}=\frac{\lambda_{\max}-n}{n-1},\quad
   \lambda_{\max}\approx \frac{1}{n}\sum_{i=1}^n \frac{(Aw)_i}{w_i}.
   $$
   随机一致性比率  
   $$
   \text{CR}=\frac{\text{CI}}{\text{RI}}.
   $$
   当 $\text{CR}<0.1$ 认为矩阵可接受；RI 查表（n=3 取 0.58，n=4 取 0.90 …）。

---

### 4 层次总排序
自上而下加权，得各方案对总目标的**综合权重**：

| 准则 | 权重 | 方案 A 局部权重 | 方案 B 局部权重 |
|---|---|---|---|
| C1 | 0.6 | 0.7 | 0.3 |
| C2 | 0.4 | 0.2 | 0.8 |

方案 A 总得分  
$$
S_A = 0.6\times 0.7 + 0.4\times 0.2 = 0.50.
$$

同理算 $S_B$，谁高谁优。

---

### 5 一致性再检验
对总排序也计算**组合一致性比率**，仍要求 $\text{CR}_{\text{total}}<0.1$。

---

### 6 一句话总结
AHP = **“拆层次、两两比、算特征向量得权重、一致性把关”**，把主观判断量化成数字，再合成最终排名。

### [[层次分析法]]在项目方案比选中的应用
- **案例背景**：某企业要建设一个新的生产车间，有三个不同的设计方案可供选择。需要从技术可行性、经济合理性、环境影响等多个方面对这三个方案进行综合评价，选出最优方案。
- **算法应用**：首先，建立层次结构模型，将目标层设为选择最优生产车间设计方案，准则层包括技术可行性、经济合理性、环境影响等因素，方案层为三个具体的设计方案。然后，构造判断矩阵，通过专家打分等方式确定各因素之间的相对重要性。例如，技术可行性与经济合理性相比，重要性比值为 3:2，即判断矩阵中相应元素为 3/2。接着，计算权重向量，通过求解判断矩阵的特征值和特征向量得到各因素的权重。最后，计算各方案的综合得分，将各方案在每个准则下的得分与相应准则的权重相乘并求和，得到各方案的综合得分，得分最高的方案即为最优方案。假设方案 A 在技术可行性、经济合理性、环境影响三个准则下的得分分别为 0.8、0.6、0.7，对应的权重分别为 0.4、0.3、0.3，则方案 A 的综合得分为 0.8×0.4 + 0.6×0.3 + 0.7×0.3 = 0.71。